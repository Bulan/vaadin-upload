<!doctype html>

<!--
title: Examples
order: 0
layout: page
-->

<!--
@license
Copyright (c) 2016 Vaadin Ltd.
This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
-->
<html>
<head>
  <title>vaadin-upload Code Examples</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <script src="../../webcomponentsjs/webcomponents-lite.js"></script>
  <link rel="import" href="common.html">
  <link rel="import" href="../../iron-icon/iron-icon.html">
  <link rel="import" href="../../iron-icons/iron-icons.html">
</head>
<body>

  <section>
    <h1>vaadin-upload <span>Code Examples</span></h1>
    <table-of-contents class="toc" select="h3"></table-of-contents>
  </section>

  <section>
    <h3>Overview</h3>
    <p>The <code>vaadin-upload</code> is a Polymer element for uploading multiple files to server.</p>
  </section>

  <section>
    <h3>Basic Usage</h3>
    <code-example source>
      <vaadin-upload demo></vaadin-upload>
    </code-example>
  </section>

  <section>
    <h3>Custom Drop Label and File Template</h3>
    <code-example source>
      <vaadin-upload demo>
        <h2 class="drop-label">
          <iron-icon icon="cloud-upload"></iron-icon>
          Drop files here...
        </h2>
        <template class="file">
          [[file.name]]
          <progress value="[[file.loaded]]" max="[[file.size]]" style="width: 100%;"></progress>
          <div>[[file.status]]</div>
        </template>
      </vaadin-upload>
    </code-example>
  </section>

  <section>
    <h3>Events</h3>

    <code-example source>
      <vaadin-upload demo></vaadin-upload>
      <p><strong>Added files:</strong></p>
      <ul id="added-files"></ul>

      <code demo-var="upload">
        // code
        var upload = upload || document.querySelector('vaadin-upload');

        upload.addEventListener('file-add', function(event) {
          var file = event.detail.file;

          var li = document.createElement('li');
          li.textContent = file.name + ': ' + file.size + ' bytes';
          document.querySelector('#added-files').appendChild(li);
        });

        upload.addEventListener('upload-progress', function(e) {
          console.log(e.detail.file.progress);
        });
        upload.addEventListener('upload-success', function(e) {
          console.log(e.detail.xhr.responseText);
        });
        // end-code
      </code>
    </code-example>
  </section>

</body>
</html>
